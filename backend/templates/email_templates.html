<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Email Templates</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --pastel-blue: #eaf6ff;
      --blue-100: #d7efff;
      --blue-200: #c4e7ff;
      --blue-300: #a7dbff;
      --ink: #1f2a44;
      --ink-soft: #475569;
      --white: #ffffff;
      --border: #d9e2ec;
      --shadow: 0 8px 24px rgba(31, 42, 68, 0.08);
      --radius: 16px;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: linear-gradient(180deg, var(--pastel-blue), var(--blue-100));
      color: var(--ink);
    }

    .tabs {
      display: flex;
      gap: 10px;
      padding: 14px 18px;
      background: var(--blue-200);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      z-index: 10;
    }
    .tab {
      text-decoration: none;
      color: var(--ink);
      background: var(--white);
      padding: 8px 12px;
      border-radius: 10px;
      box-shadow: var(--shadow);
      font-weight: 600;
      transition: transform 120ms ease, box-shadow 120ms ease;
    }
    .tab:hover { transform: translateY(-1px); }
    .tab.active { outline: 2px solid var(--blue-300); }

    .shell {
      max-width: 980px;
      margin: 28px auto;
      padding: 18px;
    }
    .card {
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px;
    }
    h1 {
      margin: 0 0 10px;
      font-size: 28px;
      letter-spacing: 0.3px;
    }
    p.lead {
      margin: 0 0 18px;
      color: var(--ink-soft);
    }
    details {
      background: var(--pastel-blue);
      border: 1px dashed var(--blue-300);
      border-radius: 12px;
      padding: 14px;
    }
    details + details { margin-top: 12px; }
    summary {
      cursor: pointer;
      font-weight: 700;
      list-style: none;
    }
    summary::-webkit-details-marker { display: none; }
    .chev {
      display: inline-block;
      transition: transform 180ms ease;
      margin-right: 6px;
    }
    details[open] .chev { transform: rotate(90deg); }

    .grid {
      display: grid;
      grid-template-columns: 260px 1fr;
      gap: 16px;
      margin-top: 14px;
    }
    .tones {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .tone {
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 10px 12px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 120ms ease, box-shadow 120ms ease;
      box-shadow: var(--shadow);
    }
    .tone:hover {
      transform: translateY(-1px);
    }

    .preview {
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px;
      min-height: 140px;
      box-shadow: var(--shadow);
      position: relative;
      overflow: auto;
      line-height: 1.5;
    }
    .preview h3 {
      margin: 0 0 8px;
      font-size: 18px;
    }
    .muted {
      color: var(--ink-soft);
      font-size: 13px;
    }

    .back {
      margin-top: 16px;
      display: inline-block;
      text-decoration: none;
      font-weight: 600;
      padding: 8px 12px;
      border-radius: 10px;
      background: var(--blue-200);
      color: var(--ink);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
    }

    [contenteditable="true"] {
      background-color: #f0faff;
      border-radius: 6px;
      padding: 2px 4px;
      outline: none;
    }
    [contenteditable="true"]:focus {
      background-color: #d9f0ff;
    }

    @media (max-width: 720px) {
      .grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <nav class="tabs">
    <a class="tab" href="{{ url_for('home') }}">Home</a>
    <a class="tab active" href="{{ url_for('email_templates') }}">Email Templates</a>
  </nav>

  <main class="shell">
    <section class="card">
      <h1>Email Templates</h1>

      <details>
        <summary><span class="chev">▶</span> Click here for additional templates</summary>

        <div class="grid">
          <div class="tones">
            <div class="tone" data-tone="friendly">Friendly</div>
            <div class="tone" data-tone="serious">Serious</div>
            <div class="tone" data-tone="business">Business-Professional</div>
            <div class="tone" data-tone="reminder">Reminder</div>
          </div>

          <div class="preview" id="preview">
            <h3>Hover a tone</h3>
            <p class="muted">When you hover over a tone on the left, an editable email sample will appear here.</p>
          </div>
        </div>
      </details>

      <a class="back" href="{{ url_for('home') }}">← Back to Home</a>
    </section>
  </main>

  <script>
    const EXAMPLES = {
      friendly: {
        title: "Friendly Team Check-In",
        body: `Hi everyone,<br><br>
I hope you’re all doing well! I just wanted to check in with our upcoming deadline for 
<span contenteditable="true">[project name]</span> in 
<span contenteditable="true">[class name]</span>, which is due on 
<span contenteditable="true">[due date]</span>.<br><br>
I’ve completed my part of 
<span contenteditable="true">[describe your finished work here]</span>, and I noticed we still need to finish 
<span contenteditable="true">[describe remaining tasks here]</span>.<br><br>
Please let me know if there’s anything I can do to help.<br><br>
Sincerely,<br>
<span contenteditable="true">[Your Name]</span>`
      },
      serious: {
        title: "Formal Project Follow-Up",
        body: `Hello team,<br><br>
This is a reminder regarding our upcoming submission for 
<span contenteditable="true">[project name]</span> in 
<span contenteditable="true">[course name]</span>, due on 
<span contenteditable="true">[due date]</span>.<br><br>
Please ensure all remaining sections are completed by 
<span contenteditable="true">[insert target date]</span> 
to allow sufficient time for review and compilation.<br><br>
Best regards,<br>
<span contenteditable="true">[Your Name]</span>`
      },
      business: {
        title: "Business-Professional Update",
        body: `Dear Team,<br><br>
I wanted to provide an update regarding our ongoing project 
<span contenteditable="true">[project name]</span>. We have successfully completed 
<span contenteditable="true">[completed sections]</span> and will now proceed with 
<span contenteditable="true">[next steps]</span>.<br><br>
Please confirm your availability for our next meeting on 
<span contenteditable="true">[date/time]</span>.<br><br>
Sincerely,<br>
<span contenteditable="true">[Your Name]</span>`
      },
      reminder: {
        title: "Friendly Reminder Email",
        body: `Hi <span contenteditable="true">[Name]</span>,<br><br>
Just a quick reminder about 
<span contenteditable="true">[event/task]</span> scheduled for 
<span contenteditable="true">[date/time]</span>.<br><br>
If you need any help or want to reschedule, please let me know.<br><br>
Best,<br>
<span contenteditable="true">[Your Name]</span>`
      }
    };

    const preview = document.getElementById("preview");
    document.querySelectorAll(".tone").forEach(el => {
      el.addEventListener("mouseenter", () => {
        const key = el.dataset.tone;
        const data = EXAMPLES[key];
        if (!data) return;
        preview.innerHTML = `
          <h3>${data.title}</h3>
          <div>${data.body}</div>
        `;
        // Restore saved version if it exists
        const saved = localStorage.getItem(key + "_template");
        if (saved) preview.innerHTML = saved;
      });
    });

    // Save edits to localStorage when typing
    preview.addEventListener("input", () => {
      const activeTone = document.querySelector(".tone:hover");
      if (activeTone) {
        localStorage.setItem(activeTone.dataset.tone + "_template", preview.innerHTML);
      }
    });
  </script>
</body>
</html>
